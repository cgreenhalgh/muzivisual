<div id='map' style=" width: 100%; ">
  <div class='bg-img-container'>
    <img class='map-img' src='Climb_App_Map_background_noTitle.jpg' alt='Map' />
  </div>

  <div ng-show="prePerf" class="pre-perf-text">
    This performance hasn't started yet. Click the left arrow of the top left screen to view past performances.
  </div>

  <div id="map">
    <d3-map></d3-map>
  </div>

  <div ng-show="performing" id="fragment">
    <p>
      <h1 id="narrative-title">{{title}}</h1>
    </p>
    <p ng-show="performing" id="narrative">{{narrative}}</p>
    <!--<p>{{narrativeData}}</p>-->
  </div>

  <div class="map-title-container">
    <!-- <span style="color:lightgray; font-size:14px;padding-top:2px" ng-style="{opacity: pastCounter? 1:0}">{{mapIndicator}}</span> -->
    <div style="display:inline-block">
      <!-- <span ng-show="pastCounter" class="pperf-indicator">P</span> -->
      <h1 class="map-title">{{mapTitle}}</h1>
    </div>
    <h4 style="margin-top:0px">{{performer}}<span ng-show="!!location"> in {{location}}</span></h4>
  </div>

  <div ng-show="!prePerf && !performing" style="margin-top:-40%">
    <div style="margin-bottom:20px; color:#FAFAFB">
      <h1>Journey</h1>
    </div>
    <div id="journey" ng-repeat="j in journey track by $index">
      <h3> {{j.stageName}} </h3>
      <div style="display:inline-block;margin-top:20px">
        <div class="narrative-content">{{j.narrative}} </div>
        <!-- <div ng-if="j.stageName!=='Summit'" style="float:left;display:block; width:10%; overflow:hidden;font-size:2em; "><b>|</b></div>  -->
      </div>
    </div>
    <div style='height:100px;width:100%'></div>
  </div>

  <div class="float-button">
    <div class="middle"><a ng-click="goToMenu()" class="glyphicon glyphicon-home"></a></div>
  </div>
  <div class="black-bkg"></div>
  <h1>{{backBtnLink}}</h1>
  <div>
    <div ng-show="showLeftArrow && existPmap" class='map-left' ng-click="getLastPerf()"><span class='glyphicon glyphicon-menu-left'></span></div>
    <div ng-show="showRightArrow" class='map-right' ng-click="getNextPerf()"><span class='glyphicon glyphicon-menu-right'></span></div>
    <!-- <div class='map-right'><span class='glyphicon glyphicon-picture' ng-style="{color: mapIconColor}" ng-click="preview()"></span></div>  -->
  </div>

<div id='map' style=" width: 100%; ">
  <div class='bg-img-container'>
    <img class='map-img' src='Climb_APP_Map_background_noTitle.jpg' alt='Map' />
  </div>

  <div id="map">
    <d3-map></d3-map>
  </div>

  <div ng-show="!stop" id="fragment">
    <p>
      <h1 id="narrative-title">{{title}}</h1>
    </p>
    <p ng-show="!stop" id="narrative">{{narrative}}</p>
    <!--<p>{{narrativeData}}</p>-->
  </div>

  <div ng-show="prePerf && pastCounter==0" class="pre-perf-text" >
    The current performance hasn't started yet. 
    Click the left arrow of the top left screen to view past performances.
  </div>

  <div class="map-title">
    <span style="color:lightgray; font-size:14px;padding-top:2px" ng-style="{opacity: pastCounter? 1:0}">{{mapIndicator}}</span>
    <h1 style="margin-bottom:3px">{{mapTitle}}</h1>
    <h4 style="margin-top:0px">{{performer}} in {{location}}</h4>
  </div>

  <div ng-show="stop" style="margin-top:-40%">
    <div style="margin-bottom:20px; color:#FAFAFB">
      <h1>Journey</h1>
    </div>
    <div id="journey" ng-repeat="j in journey track by $index">
      <h3> {{j.stageName}} </h3>
      <p style="margin-top: 0px">{{j.narrative}} </p>
      <p ng-if="j.stageName!=='Summit'">|</p>
    </div>
    <div style='height:100px;width:100%'></div>
  </div>

  <div class="float-button">
    <div class="middle"><a ng-click="goToMenu()" class="glyphicon glyphicon-home"></a></div>
  </div>
  <div class="black-bkg"></div>
  <h1>{{backBtnLink}}</h1>
  <div>
    <div ng-show="showBackArrow" class='map-left' ng-click="getLastPerf()"><span class='glyphicon glyphicon-menu-left'></span></div>
    <div ng-show='pastCounter' class='map-right'><span class='glyphicon glyphicon-menu-right' ng-click="getNextPerf()"></span></div>
    <div ng-show='!pastCounter' class='map-right'><span class='glyphicon glyphicon-picture' ng-style="{color: mapIconColor}" ng-click="preview()"></span></div>
  </div>

  <!--<div class="alert alert-success" ng-show='mapCtrl' role="alert">
    <span>{{alertMsg}}</span>
  </div>-->